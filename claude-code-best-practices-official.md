# Claude Code 공식 베스트 프랙티스 핵심 정리

[출처](https://zenn.dev/tmasuyama1114/articles/claude_code_best_practice_202601)   
  
**핵심 한 줄 요약:**

> 공식 베스트 프랙티스의 핵심은 **"컨텍스트 윈도우 관리"** 에 있다. 거의 모든 베스트 프랙티스가 이 한 가지 제약에서 출발한다.

---

## **Claude Code란 어떤 도구인가:**
Claude Code는 단순히 질문에 답하는 챗봇이 아닌 **에이전트형 코딩 환경**이다. 파일을 읽고, 커맨드를 실행하고, 변경을 가하고, 문제를 자율적으로 해결한다. 이 에이전트적 특성이 기존 AI 어시스턴트와 다른 사용 방법을 요구하는 이유다.

---

### 설계 사상 1 — 컨텍스트 윈도우가 모든 것의 기반이다

**왜 컨텍스트 윈도우가 중요한가:**

컨텍스트 윈도우에는 모든 메시지, Claude가 읽은 모든 파일, 모든 커맨드 출력이 쌓인다. 1회의 디버깅 세션이나 코드베이스 탐색만으로도 수만 토큰을 소비할 수 있다. 컨텍스트가 꽉 차면 Claude는 이전 지시를 "잊어버리고" 실수가 늘어난다.

**컨텍스트의 3가지 특성:**

- **유한(有限)** – 토큰 수에 상한이 있다
- **열화(劣化)** – 정보량이 늘수록 정확도가 떨어진다
- **주의력의 한계** – AI의 주의력은 유한한 리소스다

"혹시 몰라서 이 정보도 넣어두자"는 발상은 오히려 역효과다. 정보량이 늘면 주의력이 분산되고, 중요한 정보가 묻혀 정확도가 낮아진다.

**공식 권장 대책:**

- 작업 간 `/clear`를 자주 사용해 컨텍스트를 리셋한다
- 자동 압축 기능을 활용한다 (Claude가 중요한 정보를 요약해 보존)
- `/compact <지시>`로 세밀하게 제어한다 (예: `/compact API 변경에 집중해서`)

단, 복잡한 문제에 깊이 파고들어 있어 대화 이력 자체가 가치를 가지는 경우에는 컨텍스트를 유지해야 한다. 항상 클리어하는 것이 정답은 아니며, 상황에 따른 판단이 필요하다.

---

### 설계 사상 2 — 검증 가능성을 최우선으로 한다

공식 문서는 Claude에게 작업을 검증하는 수단을 주는 것을 **"가장 효과가 높은 실천"** 으로 규정한다.

> *"Claude는 자신의 작업을 검증할 수 있을 때 — 테스트를 실행하거나, 스크린샷을 비교하거나, 출력을 검증할 수 있을 때 — 성능이 크게 향상된다."*

**검증 수단이 없을 때의 리스크:**

명확한 성공 기준이 없으면 Claude는 "올바르게 보이지만 실제로는 동작하지 않는 것"을 만들 수 있다. 그 경우 개발자가 유일한 피드백 루프가 되어, 모든 실수에 사람의 확인이 필요해진다.

**공식 권장 검증 수단:**

- 테스트 스위트 실행
- UI의 경우 Claude in Chrome 확장 프로그램으로 스크린샷 검증
- 린터(Linter)를 통한 체크
- 출력을 확인하는 Bash 커맨드

공식은 **"검증을 견고하게 만드는 데 투자하라"** 고 명시하고 있다.

---

### 설계 사상 3 — 단계적 접근법을 권장한다

공식 문서는 **"먼저 탐색하고, 다음으로 계획하고, 그 다음에 코딩한다"** 는 단계적 접근법을 권장한다.

> *"Claude에게 바로 코딩시키면, 잘못된 문제를 해결하는 코드를 만들 수 있다."*

**권장 워크플로우 4단계:**

1. **탐색(Explore)** – 코드베이스를 읽고, 기존 구현 패턴과 관련 파일을 파악한다
2. **계획(Plan)** – 무엇을 어떻게 변경할지 구현 계획을 수립한다 (Plan Mode 활용)
3. **구현(Implement)** – 계획에 기반해 코드를 작성한다
4. **검증(Verify)** – 테스트 실행이나 스크린샷 확인으로 동작을 검증한다

단, Plan Mode는 오버헤드를 수반하므로 항상 사용할 필요는 없다.

**계획을 스킵해도 되는 경우:**

- 스코프가 명확하고 수정이 작은 작업 (오타 수정, 로그 행 추가, 변수명 변경 등)
- 차이점을 한 문장으로 설명할 수 있는 경우

**계획이 가장 효과적인 경우:**

- 접근 방식이 불확실한 경우
- 변경이 여러 파일에 걸쳐 있는 경우
- 수정할 코드에 익숙하지 않은 경우

---

### 설계 사상 4 — 환경 커스터마이징을 체계화한다

**CLAUDE.md의 중요성:**

CLAUDE.md는 Claude가 대화 시작 시 매번 읽는 특별한 파일이다. `/init` 커맨드로 스타터 파일을 생성하고 점진적으로 개선하는 것이 권장된다.

단, 공식은 다음 경고도 명시하고 있다.

> *"이 파일에 뭐든 다 넣고 싶어지겠지만, 간결하게 유지하라. 각 항목에 대해 '이것을 삭제하면 Claude가 실수를 저지르는가?'를 자문하라. 그렇지 않다면 삭제하라. 부풀어 오른 CLAUDE.md는 Claude로 하여금 실제 지시를 무시하게 만든다!"*

**Hooks와 CLAUDE.md의 사용 구분:**

공식은 명확한 기준을 제시한다.

> *"예외 없이 매번 일어나야 하는 것이라면 (포맷팅, 린트, 민감 파일 쓰기 차단) → Hooks를 사용. 판단이 필요한 가이던스라면 (코드 스타일 선호도, 아키텍처 패턴) → CLAUDE.md를 사용. Hooks는 결정론적, CLAUDE.md는 조언적이다."*

**서브에이전트 활용:**

공식은 **"컨텍스트가 근본적인 제약이므로, 서브에이전트는 가장 효과적인 도구 중 하나"** 라고 명시한다. 서브에이전트는 별도의 컨텍스트 윈도우에서 실행되므로, 메인 대화를 오염시키지 않고 탐색이나 검증을 수행할 수 있다. 코드베이스를 탐색하고, 관련 파일을 읽고, 발견 내용을 보고하는 용도에 특히 적합하다.

---

### 설계 사상 5 — 실패 패턴을 명시적으로 인지한다

공식 문서의 특징적인 부분은 흔한 실패 패턴을 명시적으로 열거한다는 점이다. 공식은 **"일찍 인식함으로써 시간을 절약할 수 있다"** 고 강조한다.

**실패 패턴 1 — 불필요한 컨텍스트를 쌓아올린다:**
하나의 태스크로 시작해 무관한 것들을 Claude에게 물어보다가 원래 태스크로 돌아오는 패턴이다. 컨텍스트가 무관한 정보로 가득 찬다.
→ **수정 방법**: 무관한 태스크 사이에서 `/clear`를 사용한다.

**실패 패턴 2 — 실패한 접근법으로 컨텍스트를 오염시킨다:**
Claude가 실수하고, 수정하고, 또 실수하고, 또 수정하는 패턴이다. 컨텍스트가 실패한 접근법으로 가득 찬다.
→ **수정 방법**: 2번 연속 실패 후에는 `/clear`하고, 학습한 내용을 반영한 더 나은 최초 프롬프트를 다시 작성한다.

**실패 패턴 3 — 과잉 지정된 CLAUDE.md:**
CLAUDE.md가 너무 길면 중요한 규칙이 노이즈에 묻혀 절반이 무시된다.
→ **수정 방법**: 과감하게 정리하고, Claude가 지시 없이 이미 올바르게 하고 있다면 삭제하거나 Hooks로 전환한다.

**실패 패턴 4 — "믿고 나중에 검증"의 갭:**
Claude가 그럴듯하게 보이지만 엣지 케이스를 처리하지 못하는 구현을 만드는 패턴이다.
→ **수정 방법**: 항상 검증 수단(테스트, 스크립트, 스크린샷)을 제공한다. 검증이 어렵다면 출시를 자제한다.

**실패 패턴 5 — 스코프를 한정하지 않고 무한 탐색을 시킨다:**
스코프를 정하지 않고 "조사해줘"라고 요청하는 패턴이다. Claude가 수백 개의 파일을 읽어 컨텍스트를 가득 채운다.
→ **수정 방법**: 조사 범위를 좁게 한정하거나 서브에이전트를 활용한다.

---

## 공식의 마지막 메시지 — 직관을 키워라

공식 문서는 이 베스트 프랙티스를 절대적인 규칙으로 제시하지 않는다.

> *"이 가이드의 패턴은 절대적인 것이 아니다. 일반적으로 잘 작동하는 출발점이지만, 모든 상황에 최적인 것은 아니다."*

> *"시간이 지나면서, 가이드로는 포착할 수 없는 직관을 키울 수 있다. 언제 구체적으로 해야 하는지, 언제 열린 결말로 두어야 하는지, 언제 계획하고 언제 탐색해야 하는지, 언제 컨텍스트를 클리어하고 언제 축적해야 하는지 알 수 있게 된다."*

---

## **전체 요약:**

| 설계 사상 | 핵심 내용 |
|---|---|
| **1. 컨텍스트 관리** | 컨텍스트는 유한·열화한다. `/clear`와 압축을 적극 활용한다 |
| **2. 검증 가능성** | 테스트·린터·스크린샷 등 검증 수단을 반드시 제공한다 |
| **3. 단계적 접근** | 탐색 → 계획 → 구현 → 검증의 4단계로 진행한다 |
| **4. 환경 커스터마이징** | CLAUDE.md는 간결하게, 결정론적 작업은 Hooks, 서브에이전트로 컨텍스트 분리 |
| **5. 실패 패턴 회피** | 5가지 실패 패턴을 인지하고 사전에 예방한다 |  