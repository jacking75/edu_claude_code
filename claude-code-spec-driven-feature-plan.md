# Claude Codeë¡œ Spec ì£¼ë„ ê°œë°œ â€” `/feature-plan` ì»¤ë§¨ë“œ ì™„ì „ ì •ë¦¬

[ì¶œì²˜](https://tech-lab.sios.jp/archives/51093 )  


## **ë°°ê²½ ë° ë™ê¸°:**
AI êµ¬ë™ ê°œë°œ ë¬¸ë§¥ì—ì„œ ìì£¼ ì–¸ê¸‰ë˜ëŠ” ê²ƒì´ **Spec ì£¼ë„ ê°œë°œ(SDD)**ì´ë‹¤. Kiro, Spec Kit, AI-DLC ë“± ì „ìš© íˆ´ë„ ì—¬ëŸ¿ ë“±ì¥í–ˆì§€ë§Œ, ìƒˆ íˆ´ ë„ì…ì—ëŠ” í•™ìŠµ ë¹„ìš©ì´ ë“ ë‹¤.

Claude Codeì˜ í‘œì¤€ ê¸°ëŠ¥ì¸ `/plan`ì„ ì‚¬ìš©í•˜ë©´ SDDì˜ ê¸°ë³¸ì¸ "ê³„íš ìˆ˜ë¦½ í›„ êµ¬í˜„"ì´ë¼ëŠ” íë¦„ì€ í‘œì¤€ìœ¼ë¡œ ì§€ì›ëœë‹¤. ê·¸ëŸ¬ë‚˜ ì‚¬ìš©í•˜ë‹¤ ë³´ë©´ "ì¢€ ë” ì´ë ‡ê²Œ í•˜ê³  ì‹¶ë‹¤"ëŠ” ìš”êµ¬ê°€ ìƒê¸´ë‹¤. ì´ ê¸€ì—ì„œëŠ” í‘œì¤€ `/plan`ì„ í™•ì¥í•œ ì»¤ìŠ¤í…€ ì»¤ë§¨ë“œ `/feature-plan`ì„ ì†Œê°œí•œë‹¤.


## **í‘œì¤€ Plan Modeì˜ ì§„í™”:**
2026ë…„ 1ì›”ê²½, í‘œì¤€ `/plan` ëª¨ë“œì— ì¤‘ìš”í•œ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆë‹¤. `plansDirectory`ë¡œ ì €ì¥ ìœ„ì¹˜ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ëœ ê²ƒì´ë‹¤.

```json
// .claude/settings.json
{
  "plansDirectory": "./docs/plans"
}
```

ê¸°ì¡´ì—ëŠ” í™ˆ ë””ë ‰í„°ë¦¬(`~/.claude/plans/`)ì—ë§Œ ì €ì¥ë˜ì—ˆì§€ë§Œ, ì´ì œ ì„ì˜ì˜ ìœ„ì¹˜ì— ì €ì¥í•  ìˆ˜ ìˆì–´ **ê³„íšì„œë¥¼ Gitìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡Œë‹¤.** ê³„íšì„œê°€ ìì‚°ìœ¼ë¡œ ë³´ì¡´ë  ìˆ˜ ìˆê²Œ ëœ ê²ƒì€ í° ì§„í™”ë‹¤.

  
## **í‘œì¤€ Plan Modeì˜ í•œê³„ â€” ë„ë©”ì¸ ì§€ì‹ì˜ ë¶€ì¡±:**
ì €ì¥ë§Œ ê°€ëŠ¥í•´ì§€ëŠ” ê²ƒìœ¼ë¡œëŠ” ë¶€ì¡±í•˜ë‹¤. ì¢‹ì€ ê³„íšì„ ì„¸ìš°ë ¤ë©´ **ë¦¬í¬ì§€í„°ë¦¬ì˜ ë„ë©”ì¸ ì§€ì‹**ì´ í•„ìš”í•˜ë‹¤. ê¸°ëŠ¥ ì¶”ê°€ ì‹œì—ëŠ” ë‹¤ìŒ ë‚´ìš©ì„ ì´í•´í•œ ìƒíƒœì—ì„œ ë°©í–¥ì„±ì„ ê²°ì •í•´ì•¼ í•œë‹¤.

- í”„ë¡œì íŠ¸ì˜ ê¸°ë°˜ ì •ë³´
- ì´ë¯¸ ë¬´ì—‡ì´ êµ¬í˜„ë˜ì–´ ìˆëŠ”ê°€
- ì–´ë–¤ ë””ë ‰í„°ë¦¬ì— ë¬´ì—‡ì´ ìˆëŠ”ê°€
- í”„ë¡œì íŠ¸ ê³ ìœ ì˜ ì„¤ê³„ ë°©ì¹¨

í‘œì¤€ `/plan`ì„ ì…ë ¥í•  ë•ŒëŠ” í”„ë¡¬í”„íŠ¸ë§Œ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. í”„ë¡œì íŠ¸ê°€ ì»¤ì§€ë©´ ë§¤ë²ˆ ë„ë©”ì¸ ì§€ì‹ì„ ì„¤ëª…í•˜ëŠ” ê²ƒì´ ë²ˆê±°ë¡­ë‹¤. **ì»¤ìŠ¤í…€ ì»¤ë§¨ë“œë¼ë©´ ì…ë ¥ ì‹œì ì— ë¦¬í¬ì§€í„°ë¦¬ì˜ ë„ë©”ì¸ ì§€ì‹ì„ ìë™ìœ¼ë¡œ ì½ì–´ë“¤ì´ê²Œ í•  ìˆ˜ ìˆë‹¤.**

  
## **/feature-planìœ¼ë¡œ í‘œì¤€ì„ ë³´ì™„í•œë‹¤:**

### **ì¶œë ¥ ë³´ì™„ â€” plan.md + action-plan.md:**
í‘œì¤€ Plan ModeëŠ” íŠ¹ë³„í•œ ì§€ì‹œê°€ ì—†ìœ¼ë©´ `plan.md`ë§Œ ë§Œë“ ë‹¤. ì´ê²ƒë§Œìœ¼ë¡œëŠ” **ì¬ì‘ì—…ì´ ë°œìƒí•˜ê¸° ì‰½ë‹¤.** ê·¸ë˜ì„œ 2ê°œì˜ íŒŒì¼ì„ ì‘ì„±í•˜ë„ë¡ í–ˆë‹¤.

| íŒŒì¼ | ì—­í•  | ìš©ë„ |
|---|---|---|
| **plan.md** | ë¬´ì—‡ì„ ë§Œë“œëŠ”ê°€ (Why / What) | ì¸ê°„ì´ í™•ì¸Â·ìŠ¹ì¸ |
| **action-plan.md** | ì–´ë–»ê²Œ ë§Œë“œëŠ”ê°€ (How) | ì¸ê°„ì´ í™•ì¸ + AIê°€ ì§„í–‰ ìƒí™© ê´€ë¦¬ |

**plan.md**ì—ëŠ” ì„¤ê³„ íŒë‹¨ì„ ê¸°ì¬í•œë‹¤:

```markdown
## ëŒ€ì•ˆ ê²€í† 
| ì ‘ê·¼ë²• | ì¥ì  | ë‹¨ì  | ì±„íƒ |
|--------|------|------|------|
| ì•ˆA | ë‹¨ìˆœ | í™•ì¥ì„± ë‚®ìŒ | Ã— |
| ì•ˆB | í™•ì¥í•˜ê¸° ì‰¬ì›€ | ë³µì¡ | â—‹ |

## ë¦¬ìŠ¤í¬ì™€ ëŒ€ì±…
| ë¦¬ìŠ¤í¬ | ì˜í–¥ë„ | ëŒ€ì±… |
|--------|--------|------|
| ê¸°ì¡´ ê¸°ëŠ¥ì— ëŒ€í•œ ì˜í–¥ | ì¤‘ | íšŒê·€ í…ŒìŠ¤íŠ¸ ì¶”ê°€ |
```

**action-plan.md**ì—ëŠ” êµ¬í˜„ ìŠ¤í…ê³¼ ëŒ€ìƒ íŒŒì¼ì„ ê¸°ì¬í•œë‹¤:

```markdown
### ìŠ¤í… 1: CLI ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ìƒì„±
- **ëŒ€ìƒ íŒŒì¼**: `src/cli.py` (ì‹ ê·œ)
- **ì™„ë£Œ ê¸°ì¤€**: `uv run cli --help`ë¡œ ë„ì›€ë§ì´ í‘œì‹œë¨

### ìŠ¤í… 2: ì½”ì–´ ê¸°ëŠ¥ êµ¬í˜„
- **ëŒ€ìƒ íŒŒì¼**: `src/core.py` (ì‹ ê·œ)
- **ì™„ë£Œ ê¸°ì¤€**: ìœ ë‹› í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë¨
```

**2ê°œë¡œ ë‚˜ëˆ„ëŠ” ì´ìœ **ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. ë¦¬ë·° ì‹œ ë‘ íŒŒì¼ì„ ëª¨ë‘ ë³´ë©´ **ì˜ë„ì™€ ë‹¤ë¥¸ êµ¬í˜„ì„ ì‚¬ì „ì— ê²€ì§€í•  ìˆ˜ ìˆë‹¤.** `action-plan.md`ì— ì˜ë„í•˜ì§€ ì•Šì€ íŒŒì¼ì´ ì í˜€ ìˆë‹¤ë©´ "ì•„ë‹ˆ, ê·¸ê²Œ ì•„ë‹ˆë¼â€¦"ë¼ê³  ì§€ì‹œë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤. ìì‹ ì˜ í”„ë¡¬í”„íŠ¸ê°€ ë‚˜ë¹´ëŠ”ì§€, Claudeì˜ í•´ì„ì´ ë‹¬ëëŠ”ì§€ë¥¼ ì´ ë‹¨ê³„ì—ì„œ ë°œê²¬í•  ìˆ˜ ìˆëŠ” ê²ƒì´ í¬ë‹¤. ë˜í•œ rate limitìœ¼ë¡œ ì„¸ì…˜ì´ ì¤‘ë‹¨ë˜ê±°ë‚˜ ì„¸ì…˜ì´ ëŠê²¨ë„ **íŒŒì¼ì— ì§„í–‰ ìƒí™©ì´ ë‚¨ì•„ ìˆê¸° ë•Œë¬¸ì—** ë³µê·€ê°€ ì‰½ë‹¤.

### **ì…ë ¥ ë³´ì™„ â€” ë„ë©”ì¸ ì§€ì‹ ì£¼ì…:**
ì»¤ìŠ¤í…€ ì»¤ë§¨ë“œì˜ ë˜ ë‹¤ë¥¸ ì¥ì ì€ **ê³„íš í˜ì´ì¦ˆ íŠ¹ìœ ì˜ ì§€ì‹œë¥¼ ë‚´ì¥í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ**ì´ë‹¤.

```markdown
## CRITICAL CONSTRAINTS

1. **Read-only analysis first**: ê¸°ì¡´ ì½”ë“œë¥¼ ë¨¼ì € ë¶„ì„í•œë‹¤
2. **Output directory**: ì¶œë ¥ì€ `docs/features/$ARGUMENTS/`ì— ì €ì¥
3. **Language**: ë¬¸ì„œëŠ” ì¼ë³¸ì–´(í•œêµ­ì–´)ë¡œ ì¶œë ¥
```


## **/feature-plan êµ¬í˜„ ì˜ˆì‹œ:**

**ë°°ì¹˜ ìœ„ì¹˜**: `.claude/commands/feature-plan.md`

### **frontmatter:**

```markdown
---
description: êµ¬í˜„ ê³„íšê³¼ ì•¡ì…˜ í”Œëœì„ ì‘ì„±í•˜ê³  docs/features/ì— ì €ì¥. ê¸°ëŠ¥ ê°œë°œì˜ ê³„íš í˜ì´ì¦ˆë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
argument-hint: [feature-name]
allowed-tools: Read, Glob, Grep, Task, Write, Bash, WebSearch, WebFetch, TodoWrite, AskUserQuestion
---
```

- `description`: ì»¤ë§¨ë“œ ì„¤ëª… (`/help`ì—ì„œ í‘œì‹œë¨)
- `argument-hint`: ì¸ìˆ˜ íŒíŠ¸ (`$ARGUMENTS`ë¡œ ë°›ìŒ)
- `allowed-tools`: ì‚¬ìš© ê°€ëŠ¥í•œ íˆ´ì„ ì œí•œ

### **CRITICAL CONSTRAINTS (ì¤‘ìš”í•œ ì œì•½):**

```markdown
## CRITICAL CONSTRAINTS

You MUST follow these rules strictly:

1. **Read-only analysis first**: Do NOT modify any existing code until the plan is approved
2. **Output directory**: All documents MUST be saved to `docs/features/$ARGUMENTS/`
3. **Create subdirectory**: First create the directory before saving files
4. **Language**: Write all documents in Japanese
```

ì´ë¡œì¨ "ê³„íšì´ ìŠ¹ì¸ë˜ê¸° ì „ê¹Œì§€ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤"ëŠ” ì›ì¹™ì„ ì² ì €íˆ ì§€í‚¬ ìˆ˜ ìˆë‹¤.

### **Workflow Phases (5í˜ì´ì¦ˆ):**

```
Phase 1: Initial Understanding - ìš”ê±´ ëª…í™•í™”, ì½”ë“œë² ì´ìŠ¤ ë¶„ì„
Phase 2: Design              - êµ¬í˜„ ì ‘ê·¼ë²•, ë¦¬ìŠ¤í¬ í‰ê°€
Phase 3: Review              - ìœ ì € ìš”êµ¬ì™€ì˜ ì •í•©ì„± í™•ì¸
Phase 4: Create Documents    - plan.md, action-plan.md ì‘ì„±
Phase 5: Summary             - ìœ ì €ì—ê²Œ ì„œë¨¸ë¦¬ ì œì‹œ
```

ê° í˜ì´ì¦ˆì—ì„œ ë¬´ì—‡ì„ í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ëª…ê¸°í•¨ìœ¼ë¡œì¨ Claudeì˜ ë™ì‘ì´ ì•ˆì •ëœë‹¤.

### **ì‚¬ìš©ë²•:**

```
/feature-plan thumbnail-generator
```

ì´ê²ƒìœ¼ë¡œ `docs/features/thumbnail-generator/`ì— `plan.md`ì™€ `action-plan.md`ê°€ ìƒì„±ëœë‹¤.


## **Tips â€” ì˜ì–´ ê¸°ìˆ ë¡œ ì‚¬ê³  ì •ë°€ë„ë¥¼ ë†’ì¸ë‹¤:**
`/feature-plan` ì»¤ë§¨ë“œëŠ” **ì˜ì–´ë¡œ ê¸°ìˆ **í•œë‹¤. ClaudeëŠ” ì˜ì–´ ìª½ì´ ì‚¬ê³  ëŠ¥ë ¥ì´ ë†’ë‹¤ê³  ì•Œë ¤ì ¸ ìˆê¸° ë•Œë¬¸ì—, CLAUDE.mdì—ì„œ "ì‚¬ê³ ëŠ” ì˜ì–´, ì¶œë ¥ì€ í•œêµ­ì–´(ì¼ë³¸ì–´)"ë¼ê³  ì§€ì‹œí•˜ë©´ íš¨ê³¼ì ì´ë‹¤.

ë˜í•œ ë„ë©”ì¸ ì§€ì‹ ì£¼ì…ë„ ì½ì–´ë“¤ì´ëŠ” íŒŒì¼ì´ë‚˜ ë””ë ‰í„°ë¦¬ë¥¼ ê³ ì •í•´ë‘ë©´ `/feature-plan`ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì •ì  ì •ë³´ë¡œ ê´€ë¦¬í•´ë‘ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.
  
  
## **ì •ë¦¬ â€” í‘œì¤€ Plan Mode vs /feature-plan:**

| ê´€ì  | í‘œì¤€ Plan Mode | /feature-plan |
|---|---|---|
| ìš©ë„ | ì„ê¸°ì‘ë³€ì  ì¡°ì‚¬ | ì •ì‹ ê¸°ëŠ¥ ì¶”ê°€ |
| ì¶œë ¥ í˜•ì‹ | Claudeì—ê²Œ ìœ„ì„ | í…œí”Œë¦¿ìœ¼ë¡œ í‘œì¤€í™” |
| ë„ë©”ì¸ ì§€ì‹ | í”„ë¡¬í”„íŠ¸ë¡œ ë§¤ë²ˆ ì„¤ëª… | ì»¤ë§¨ë“œì— ë‚´ì¥ |
| ì§„í–‰ ìƒí™© ê´€ë¦¬ | ì—†ìŒ | action-plan.mdë¡œ ê´€ë¦¬ |

SDDë¥¼ ì‹œì‘í•˜ëŠ” ë° ìƒˆ íˆ´ì„ ë„ì…í•  í•„ìš”ëŠ” ì—†ë‹¤. **ì»¤ìŠ¤í…€ ì»¤ë§¨ë“œ í•˜ë‚˜ë¡œ ì‘ê²Œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤.**

- `plan.md`ë¡œ ì˜ì‚¬ê²°ì •ì„ ê¸°ë¡
- `action-plan.md`ë¡œ ë³€ê²½ ëŒ€ìƒì„ í™•ì •í•˜ê³  ì§„í–‰ ìƒí™©ì„ ê´€ë¦¬
- ì»¤ìŠ¤í…€ ì»¤ë§¨ë“œë¡œ ë„ë©”ì¸ ì§€ì‹ì„ ìë™ ì£¼ì…

í•„ìš”ì— ë”°ë¼ í…œí”Œë¦¿ì„ ì¡°ì •í•˜ê³  íŒ€ì˜ ìš´ìš©ì— ë§ê²Œ ë°œì „ì‹œì¼œë‚˜ê°€ë©´ ëœë‹¤.

> ğŸ“ `/feature-plan` ì›ë¬¸ì€ [Gist](https://gist.github.com/Ryunosuke-Tanaka-sti/4ab9e1e5e9e73646d9e03cf10d67b584)ì— ê³µê°œë˜ì–´ ìˆë‹¤.  